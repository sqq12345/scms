{"version":3,"sources":["webpack:///./src/js/golbal/static.js","webpack:///./src/js/golbal/commons.js","webpack:///./src/js/golbal/golbal.js"],"names":["_commons","__webpack_require__","requestUrl","act","reConfig_getRegionList","bcSplitOrder_getInfo","wuliuCom","config","uploadConfig","useCdnDomain","region","qiniu","z0","putExtra","params","mimeType","uuid","s","i","substr","Math","floor","random","join","imgADD","add","productImg","bannerImg","brandImg","idcard","openYunDan","d","echo","data","company_getList","loading","succ","async","layer","open","type","area","content","companies","code","name","splitOrderSn","orderSn","btn","closeBtn","title","yes","index","layero","$","prev","val","tips","no","close","btn2","yundanInfoAct","str","list","time","context","html","post","form","render","openModifyAdd","province","layFilter","click","openRefund","refund_num","test","Number","parseInt","num","refund_result","backgroundImg","img","openTable","items","model","brandName","productName","attr","_static","url","query","Object","isasync","beforeSend","mainUrl","ajax","get","isFormData","stringIsBlank","token","this","JSON","stringify","echa","layerIndex","load","msg","icon","shade","complete","err","func","undefined","_typeof","error","success","dataFilter","parse","datalist","message","anim","dataType","cache","processData","contentType","limitOpen","elem","btn4","limitNum","target","limit1","btn3","prompt","value","next","dispatchEvent","Event","Vue","component","template","props","uploadToken","mounted","methods","change","skuData","subscription","unsubscribe","fname","files","key","_this","observer","res","percent","round","total","DetialPercent","uploading","css","detailImg","observable","upload","subscribe","addImg","_this2","upload_upload","addModel","v","modelData","push","status","del","confirm","id","reBcProductSku_updateStatus","splice","limit","fullAll","temp","clone","children","addClass","end","l","$parent","selector","price","find","costPrice","dutyFreePrice","stock","minPurchaseNum","limitTimelimitNum","limitTime","updated","window","history","pushState","on","forward","layui","use","parents","length","othis","verify","telephone","must","notmustprice","int","notmustint","greaterthan0","selectthan0"],"mappings":"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","file":"assets/js/golbal.js","sourcesContent":["import {echo} from \"./commons\";\r\nlet requestUrl={};\r\nif(DEV){\r\n    requestUrl.mainUrl=\"http://test1.shichamaishou.com/\";\r\n}else\r\nrequestUrl.mainUrl=\"https://api.shichamaishou.com/\";\r\n// requestUrl.mainUrl=\"https://test1.shichamaishou.com/\";\r\n\r\n\r\nrequestUrl.codeurl=\"https://api.shichamaishou.com/application/libraries/verification.php\";\r\nrequestUrl.token=\"\";\r\nrequestUrl.type=\"\";\r\nlet act = {};\r\nact.login_validate=\"purchase_login\";\r\nact.token_validate=\"token_validate\";\r\nact.bcProduct_addProduct=\"bcProduct_addProduct\";\r\nact.bcCategory_getDropList=\"bcCategory_getDropList\"\r\nact.bcBrand_bcGetList=\"bcBrand_bcGetList\";\r\nact.bcCategory_getList=\"bcCategory_getList\";\r\nact.bcCategory_updateStatus=\"bcCategory_updateStatus\";\r\nact.bcCategory_getParentList=\"bcCategory_getParentList\";\r\nact.bcCategory_add=\"bcCategory_add\";\r\nact.bcCategory_getInfo=\"bcCategory_getInfo\";\r\nact.bcCategory_update=\"bcCategory_update\";\r\nact.bcTemplate_getList=\"bcTemplate_getList\";\r\nact.bcTemplate_add=\"bcTemplate_add\";\r\nact.bcTemplate_updateStatus=\"bcTemplate_updateStatus\";\r\nact.bcTemplate_update=\"bcTemplate_update\";\r\nact.bcTemplate_getAllList=\"bcTemplate_getAllList\";\r\nact.bcProduct_addSku=\"bcProduct_addSku\";\r\nact.bcProduct_getList=\"bcProduct_getList\";\r\nact.bcProduct_updateStatus=\"bcProduct_updateStatus\";\r\nact.bcBespeakCategory_getList=\"bcBespeakCategory_getList\";\r\nact.bcBespeakCategory_updateStatus=\"bcBespeakCategory_updateStatus\";\r\nact.bcBespeakCategory_getParentList=\"bcBespeakCategory_getParentList\";\r\nact.bcBespeakCategory_getInfo=\"bcBespeakCategory_getInfo\";\r\nact.bcBespeakCategory_update=\"bcBespeakCategory_update\";\r\nact.bcBespeakCategory_add=\"bcBespeakCategory_add\";\r\nact.bcProduct_getInfo=\"bcProduct_getInfo\";\r\nact.bcBrand_add=\"bcBrand_add\";\r\nact.bcBrand_getList=\"bcBrand_getList\";\r\nact.bcBrand_updateStatus=\"bcBrand_updateStatus\";\r\nact.bcBrand_update=\"bcBrand_update\";\r\nact.bcBrand_getInfo=\"bcBrand_getInfo\";\r\nact.bcBanner_getList=\"bcBanner_getList\";\r\nact.bcBanner_updateStatus=\"bcBanner_updateStatus\";\r\nact.bcBanner_add=\"bcBanner_add\";\r\nact.bcBanner_update=\"bcBanner_update\";\r\nact.bcPurchase_getList=\"bcPurchase_getList\";\r\nact.bcPurchase_add=\"bcPurchase_add\";\r\nact.bcPurchase_update=\"bcPurchase_update\";\r\nact.bcCustomer_getList=\"bcCustomer_getList\";\r\nact.bcPurchase_updateStatus=\"bcPurchase_updateStatus\";\r\nact.bcCustomer_getInfo=\"bcCustomer_getInfo\";\r\nact.bcCustomer_updateStatus=\"bcCustomer_updateStatus\";\r\nact.address_getAreasByCity=\"address_getAreasByCity\";\r\nact.address_getCitiesByProvince=\"address_getCitiesByProvince\";\r\nact.address_getProvinces=\"address_getProvinces\";\r\nact.bcCustomer_update=\"bcCustomer_update\";\r\nact.bcAddress_update=\"bcAddress_update\";\r\nact.reBcProduct_addProduct=\"reBcProduct_addProduct\";\r\nact.bcCategory_getAllList=\"bcCategory_getAllList\";\r\nact.reBcProduct_getList=\"reBcProduct_getList\";\r\nact.reBcProduct_updateStatus=\"reBcProduct_updateStatus\";\r\nact.reBcProduct_addSku=\"reBcProduct_addSku\";\r\nact.reBcProduct_getInfo=\"reBcProduct_getInfo\";\r\nact.reBcProduct_updateProduct=\"reBcProduct_updateProduct\";\r\nact.reBcProduct_updateSku=\"reBcProduct_updateSku\";\r\nact.reBcProductSku_updateStatus=\"reBcProductSku_updateStatus\";\r\nact.reBcBespeakProduct_addProduct=\"reBcBespeakProduct_addProduct\";\r\nact.bcBespeakCategory_getAllList=\"bcBespeakCategory_getAllList\";\r\nact.reBcBespeakProduct_getList=\"reBcBespeakProduct_getList\";\r\nact.reBcBespeakProduct_updateStatus=\"reBcBespeakProduct_updateStatus\";\r\nact.reBcBespeakProductSku_updateStatus=\"reBcBespeakProductSku_updateStatus\";\r\nact.reBcBespeakProduct_addSku=\"reBcBespeakProduct_addSku\";\r\nact.reBcBespeakProduct_getInfo=\"reBcBespeakProduct_getInfo\";\r\nact.reBcBespeakProduct_updateProduct=\"reBcBespeakProduct_updateProduct\";\r\nact.reBcBespeakProduct_updateSku=\"reBcBespeakProduct_updateSku\";\r\nact.reBcSpecialProduct_getList=\"reBcSpecialProduct_getList\";\r\nact.reBcSpecialProduct_getProductList=\"reBcSpecialProduct_getProductList\";\r\nact.reBcSpecialProduct_getSkuList=\"reBcSpecialProduct_getSkuList\";\r\nact.reBcSpecialProduct_add=\"reBcSpecialProduct_add\";\r\nact.reBcSpecialProduct_getInfo=\"reBcSpecialProduct_getInfo\";\r\nact.reBcSpecialProduct_update=\"reBcSpecialProduct_update\";\r\nact.reConfig_getInfo=\"reConfig_getInfo\";\r\nact.reConfig_doSubmit=\"reConfig_doSubmit\";\r\nact.upload_upload=\"upload_upload\";\r\nact.bcOrder_getList=\"bcOrder_getList\";\r\nact.bcOrder_cancel=\"bcOrder_cancel\";\r\nact.bcOrder_getInfo=\"bcOrder_getInfo\";\r\nact.company_getList=\"company_getList\";\r\nact.bcOrder_batchDelivery=\"bcOrder_batchDelivery\";\r\nact.bcOrder_updateAddress=\"bcOrder_updateAddress\";\r\nact.bcBespeakOrder_getList=\"bcBespeakOrder_getList\";\r\nact.bcBespeakOrder_cancel=\"bcBespeakOrder_cancel\";\r\nact.bcBespeakOrder_getInfo=\"bcBespeakOrder_getInfo\";\r\nact.bcBespeakOrder_batchDelivery=\"bcBespeakOrder_batchDelivery\";\r\nact.bcBespeakOrder_updateAddress=\"bcBespeakOrder_updateAddress\";\r\nact.bcBespeakOrder_replaceOrder=\"bcBespeakOrder_replaceOrder\";\r\nact.bcBespeakOrder_takingOrder=\"bcBespeakOrder_takingOrder\";\r\nact.bcBespeakOrder_confirm=\"bcBespeakOrder_confirm\";\r\nact.bcBespeakOrder_confirmNoGoods=\"bcBespeakOrder_confirmNoGoods\";\r\nact.bcRefundOrder_getList=\"bcRefundOrder_getList\";\r\nact.bcRefundOrder_getInfo=\"bcRefundOrder_getInfo\";\r\nact.bcRefundOrder_reject=\"bcRefundOrder_reject\";\r\nact.bcRefundOrder_validate=\"bcRefundOrder_validate\";\r\nact.bcBespeakOrder_getAssignOrderInfo=\"bcBespeakOrder_getAssignOrderInfo\";\r\nact.bcBespeakOrder_assign=\"bcBespeakOrder_assign\";\r\nact.bcOrder_refund=\"bcOrder_refund\";\r\nact.bcBespeakOrder_refund=\"bcBespeakOrder_refund\";\r\nact.uploadExcel_process=\"uploadExcel_process\";\r\nact.reBcProduct_validateSkuRef=\"reBcProduct_validateSkuRef\";\r\nact.bcBespeakOrder_getDelivery=\"bcBespeakOrder_getDelivery\";\r\nact.bcOrder_getDelivery=\"bcOrder_getDelivery\";\r\nact.uploadExcel_updateStock=\"uploadExcel_updateStock\";\r\nact.bcSplitOrder_getList=\"bcSplitOrder_getList\";\r\nact.bcSplitOrder_delivery=\"bcSplitOrder_delivery\";\r\nact.bcSplitOrder_getDelivery=\"bcSplitOrder_getDelivery\";\r\nact.reConfig_getRegionList=\"reConfig_getRegionList\";\r\nact.reConfig_getRegionList=\"reConfig_getRegionList\";\r\nact.bcSplitOrder_getInfo=\"bcSplitOrder_getInfo\";\r\nlet imgADD={\r\n    add:'http://upload.hljr.com.cn/',\r\n    // productImg:\"?imageMogr2/auto-orient/thumbnail/x400\",\r\n    productImg:\"\",\r\n    // bannerImg:\"?imageMogr2/auto-orient/thumbnail/x320\",\r\n    bannerImg:\"\",\r\n    // brandImg:\"?imageMogr2/auto-orient/thumbnail/x300\",\r\n    brandImg:\"\",\r\n    // idcard:\"?imageMogr2/auto-orient/thumbnail/x666\"\r\n    idcard:\"\"\r\n};\r\n\r\nlet wuliuCom;\r\nlet openYunDan=d=>{\r\n    if(!wuliuCom){\r\n        echo().data({\r\n            act:act.company_getList\r\n        }).loading().succ(d=>{\r\n            if(d){\r\n                wuliuCom=d\r\n            }\r\n        }).async()\r\n    }\r\n\r\n    layer.open({\r\n        type: 1,\r\n        area:['600px','600px'],\r\n        content:`<div class=\"layui-form\" style=\"margin-top: 20px\"  lay-filter=\"yundan-form\" id=\"yundan-form\">\r\n               <div class=\"layui-form-item\">\r\n              <label  class=\"layui-form-label label-w120\">运输公司</label>\r\n               <div class=\"layui-input-block\" >\r\n                  ${(companies => {\r\n            let s = '';\r\n            for (let i in companies) {\r\n                s +=`<input type=\"radio\" name=\"wuliu\" value=${companies[i].code} title=\"${companies[i].name}\" class=\"yundan-com\">`\r\n            }\r\n            return s\r\n        })(wuliuCom)}\r\n    \r\n\r\n      \r\n        </div>\r\n        </div>\r\n        <div class=\"layui-form-item\" >\r\n              <label  class=\"layui-form-label label-w120\">运单号</label>\r\n               <div class=\"layui-input-inline\" style=\"width: 250px\">\r\n                <input  type=\"text\" id=\"yundan-no\" placeholder=\"请输入运单号\"  class=\"layui-input\" >\r\n        </div>\r\n    </div>\r\n    <div class=\"padding15\">\r\n    <ul class=\"layui-timeline yundan-info\">\r\n    \r\n   ${(orderSn=>{\r\n       if(orderSn)\r\n           return ` <li class=\"layui-timeline-item\">\r\n    <i class=\"layui-icon layui-timeline-axis\">&#xe63f;</i>\r\n    <div class=\"layui-timeline-content layui-text\">\r\n      <p>\r\n      获取物流信息中\r\n      </p>\r\n    </div>\r\n  </li>`\r\n            return ''\r\n        })(d.splitOrderSn||d.orderSn)}\r\n \r\n\r\n</ul>\r\n</div>\r\n</div>`\r\n        ,btn: ['确定', '取消'],\r\n        closeBtn:0,\r\n        title:'运单信息'\r\n        ,yes: function(index, layero){\r\n            //按钮【按钮一】的回调\r\n            let code = $(\"#yundan-form .layui-form-radioed\").prev().val();\r\n            if(!code){\r\n                $.tips('请选择物流公司',4)\r\n                return false\r\n            }\r\n            let no =  $(\"#yundan-no\").val();\r\n            if(!no){\r\n                $.tips('请输入运单号',4)\r\n                return false\r\n            }\r\n          d.succ(code,no)\r\n            layer.close(index)\r\n        }\r\n        ,btn2: function(index, layero){\r\n            layer.close(index)\r\n        }\r\n    });\r\n    if(d.splitOrderSn||d.orderSn){\r\n        echo().data({\r\n            act:d.yundanInfoAct,\r\n            splitOrderSn:d.splitOrderSn,\r\n            orderSn:d.orderSn\r\n        }).succ(d=>{\r\n            let str= ''\r\n                for(let i in d.list){\r\n                    str += ` <li class=\"layui-timeline-item\">\r\n    <i class=\"layui-icon layui-timeline-axis\">&#xe63f;</i>\r\n    <div class=\"layui-timeline-content layui-text\">\r\n      <p>\r\n      ${d.list[i].time}:${d.list[i].context} \r\n      </p>\r\n    </div>\r\n  </li>`\r\n                }\r\n                $(\".yundan-info\").html(str)\r\n        }).post();\r\n    }\r\nif(d.form)\r\n    d.form.render(null,'yundan-form')\r\n}\r\nlet config={};\r\nconfig.postage='postage';\r\nlet uploadConfig={\r\n    useCdnDomain: false,\r\n    region:qiniu.region.z0\r\n};\r\nlet   putExtra = {\r\n    params: {},\r\n    mimeType:['image/gif','image/jpeg','image/jpg','image/png'],\r\n};\r\nlet uuid =()=> {\r\n    let s = [];\r\n    let hexDigits = \"0123456789abcdef\";\r\n    for (let i = 0; i < 36; i++) {\r\n        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\r\n    }\r\n    s[14] = \"4\"; // bits 12-15 of the time_hi_and_version field to 0010\r\n    s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1); // bits 6-7 of the clock_seq_hi_and_reserved to 01\r\n    s[8] = s[13] = s[18] = s[23] = \"-\";\r\n\r\n    var uuid = s.join(\"\");\r\n    return uuid;\r\n}\r\n\r\nlet openModifyAdd=d=>{\r\n    layer.open({\r\n        type: 1,\r\n        content:`<div class=\"layui-form\"  id=\"modify-add\"  lay-filter=\"modify-add-form\">\r\n    <div class=\"layui-form-item\" style=\"margin-top: 20px\">\r\n              <label  class=\"layui-form-label label-w120\">收件人</label>\r\n               <div class=\"layui-input-inline\">\r\n                <input type=\"text\"  placeholder=\"收件人\"  name=\"receiverName\" class=\"layui-input\" lay-verify=\"must\" must=\"收件人不能为空\">\r\n        </div>\r\n    </div>\r\n        <div class=\"layui-form-item\" >\r\n              <label  class=\"layui-form-label label-w120\">联系电话</label>\r\n               <div class=\"layui-input-inline\">\r\n                <input type=\"text\" placeholder=\"联系电话\"  name=\"receiverPhone\" class=\"layui-input\"  lay-verify=\"telephone\" info=\"手机号错误\">\r\n        </div>\r\n    </div>\r\n    <div class=\"province-city-area\">\r\n               <div class=\"layui-form-item\">\r\n              <label  class=\"layui-form-label label-w120\">省份</label>\r\n               <div class=\"layui-input-inline\">\r\n              <select  name=\"province\" lay-filter=\"modify-add-province-city-area\" lay-verify=\"must\" must=\"请选择省份\">\r\n              <option value=\"\" code=\"\">请选择</option>\r\n              \r\n                ${(province=>{\r\n                    let s = '';\r\n                    for(let i in province){\r\n                        s+=`<option value=\"${province[i].name}\" code=\"${province[i].code}\">${province[i].name}</option>`\r\n                    }\r\n                    return s;\r\n        })(d.province)}\r\n      </select>\r\n        </div>\r\n        </div>\r\n               <div class=\"layui-form-item\">\r\n              <label  class=\"layui-form-label label-w120\">城市</label>\r\n               <div class=\"layui-input-inline\">\r\n              <select name=\"city\" lay-filter=\"modify-add-province-city-area\" lay-verify=\"must\" must=\"请选择城市\">\r\n        <option value=\"\" ></option>\r\n      </select>\r\n        </div>\r\n        </div>\r\n               <div class=\"layui-form-item\">\r\n              <label  class=\"layui-form-label label-w120\">区</label>\r\n               <div class=\"layui-input-inline\">\r\n              <select name=\"area\"  lay-verify=\"must\" must=\"请选择区域\">\r\n        <option value=\"\" ></option>\r\n      </select>\r\n        </div>\r\n        </div>\r\n        </div>\r\n        <div class=\"layui-form-item\" >\r\n              <label  class=\"layui-form-label label-w120\">详细地址</label>\r\n               <div class=\"layui-input-inline\">\r\n                <input type=\"text\"  placeholder=\"详细地址\"  class=\"layui-input\" name=\"address\" lay-verify=\"must\" must=\"详细地址不能为空\">\r\n        </div>\r\n    </div>\r\n        <div class=\"layui-form-item\" >\r\n              <label  class=\"layui-form-label label-w120\">邮编</label>\r\n               <div class=\"layui-input-inline\">\r\n                <input type=\"text\"  placeholder=\"邮编\"  class=\"layui-input\" name=\"code\">\r\n                <input type=\"button\" lay-submit hidden id=\"modify-add-btn\" lay-filter=\"${d.layFilter}\"> \r\n        </div>\r\n    </div>\r\n</div>`\r\n        ,btn: ['确定', '取消'],\r\n        closeBtn:0,\r\n        area:['auto','600px'],\r\n        title:'修改地址'\r\n        ,yes: function(index, layero){\r\n            $(\"#modify-add-btn\").click()\r\n\r\n        }\r\n        ,btn2: function(index, layero){\r\n            layer.close(index)\r\n        }\r\n})\r\n    if(d.form)\r\n    d.form.render(null,'modify-add-form')\r\n    \r\n\r\n\r\n}\r\n\r\nlet openRefund=(d)=>{\r\n\r\n    layer.open({\r\n        type: 1,\r\n        area:[\"400px\"],\r\n        content:`<div class=\"layui-form\" style=\"margin-top: 20px\"  lay-filter=\"refund-form\" id=\"refund-form\">\r\n        <div class=\"layui-form-item\" >\r\n              <label  class=\"layui-form-label\">退款数量</label>\r\n               <div class=\"layui-input-inline\" style=\"width: 250px\">\r\n                <input  type=\"text\" id=\"refund-num\" placeholder=\"退款数量\"  class=\"layui-input\" >\r\n        </div>\r\n        </div>\r\n          <div class=\"layui-form-item\" >\r\n              <label  class=\"layui-form-label\">退款原因</label>\r\n               <div class=\"layui-input-inline\" style=\"width: 250px\">\r\n                <input  type=\"text\" id=\"refund-result\" placeholder=\"退款原因\"  class=\"layui-input\" >\r\n        </div>\r\n    </div>\r\n</div>`\r\n        ,btn: ['确定', '取消'],\r\n        closeBtn:0,\r\n        title:'退款'\r\n        ,yes: function(index, layero){\r\n            //按钮【按钮一】的回调\r\n            let refund_num=$(\"#refund-num\").val();\r\n            if(!/^[0-9]+$/.test(refund_num)){\r\n                $.tips('退款数量必须是整数',4)\r\n                return false\r\n            }else if(Number.parseInt(refund_num)<1){\r\n                $.tips('退款数量必须大于0',4)\r\n                return false\r\n            }\r\n            if(refund_num>d.num){\r\n                $.tips('退款数量大于实际数量',4)\r\n                return false\r\n            }\r\n            let refund_result =  $(\"#refund-num\").val();\r\n            if(!refund_result){\r\n                $.tips('请输入退款原因',4)\r\n                return false\r\n            }\r\n            d.succ(refund_num,refund_result)\r\n            layer.close(index)\r\n        }\r\n        ,btn2: function(index, layero){\r\n            layer.close(index)\r\n        }\r\n    });\r\n    if(d.form)\r\n        d.form.render(null,'yundan-form')\r\n}\r\nlet backgroundImg = img =>`background-image:url(${img})`\r\nlet openTable=items=>{\r\n    layer.open({\r\n        type: 1,\r\n        area:['700px','auto'],\r\n        content:`\r\n        <table class=\"layui-table\" style=\"margin:50px auto;width: 80%\">\r\n        <thead>\r\n        <tr>\r\n         <th>品牌</th>\r\n        <th>名称</th>\r\n        <th>${items[0].model}</th>\r\n        <th>数量</th>\r\n</th>\r\n</thead>\r\n        ${(items=>{\r\n            let s=''\r\n            for(let i in items){\r\n                s += `<tr><td>${items[i].brandName}</td><td>${items[i].productName}</td><td>${items[i].attr}</td><td>${items[i].num}</td></tr>`\r\n            }\r\n            return s\r\n        })(items)\r\n            }\r\n        </table>\r\n        `\r\n    })\r\n}\r\nexport {requestUrl,act,config,uploadConfig,putExtra,uuid,imgADD,openYunDan,openModifyAdd,openRefund,backgroundImg,openTable}\r\n","import {requestUrl} from '../golbal/static.js'\r\nlet echo = function(url) {\r\n   let query = new Object();\r\n   query.isasync =false;\r\n    query.beforeSend = function () {\r\n    }\r\n   query.url =url||requestUrl.mainUrl ;\r\n   query.post=function () {\r\n       query.isasync =true;\r\n        query.ajax(\"POST\");\r\n   }\r\n    query.get=function () {\r\n        query.isasync =true;\r\n        query.ajax(\"GET\");\r\n    }\r\n    query.async=function () {\r\n        query.isasync =false;\r\n        query.ajax(\"POST\");\r\n    }\r\n   query.data=function (data,isFormData) {\r\n       if(!$.stringIsBlank(requestUrl.token)){\r\n           if(isFormData){\r\n               this.data=data\r\n               this.echa=false\r\n           }else {\r\n               this.data = {data: JSON.stringify(data), token: requestUrl.token}\r\n               this.echa=true\r\n           }\r\n       }else {\r\n           this.data={data:JSON.stringify(data)}\r\n           this.echa=true\r\n       };\r\n       return query;\r\n   }\r\n   query.loading=function (tips,type) {\r\n\r\n       query.beforeSend=function () {\r\n           switch (type){\r\n               case 1:\r\n                   this.layerIndex = layer.load(1);\r\n                   break;\r\n               case 2:\r\n                   this.layerIndex = layer.msg(tips, {\r\n                       icon: 16\r\n                       ,shade: 0.01,\r\n                       time:0,\r\n                   });\r\n                   break;\r\n               default: this.layerIndex = layer.msg(\"加载中\", {\r\n                   icon: 16\r\n                   ,shade: 0.01,\r\n                   time:0,\r\n               });;break;\r\n           }\r\n   }\r\n       return query;\r\n   }\r\n    query.complete =function () {\r\n         layer.close(this.layerIndex);\r\n        return query;\r\n    }\r\n    query.err = function (func) {\r\n        if(typeof func != undefined){\r\n            query.error = func;\r\n        }\r\n        return query;\r\n}\r\n    query.succ = function (func) {\r\n        if(typeof func != undefined){\r\n            query.success = func;\r\n        }\r\n        return query;\r\n   }\r\n   query.dataFilter = function (data) {\r\n       if(!$.stringIsBlank(data))\r\n       data = JSON.parse(data)\r\n       if(DEV)\r\n       console.log(data)\r\n      switch (data.code){\r\n          case 200: return data.data||data.datalist||true;\r\n          case 600:layer.msg(`${data.message}`) ;requestUrl.token=''; return false;\r\n          default:layer.msg(data.message||\"发生未知错误\", {icon: 5,anim:6});return false;break;\r\n      }\r\n       return false;\r\n   }\r\n   query.ajax=function (type) {\r\n     $.ajax(query.url,{\r\n         type:type,\r\n         data:this.data,\r\n         dataType: 'text',\r\n         success:query.success,\r\n         error:query.error|| function(){layer.msg(\"发生错误，稍后再试\")},\r\n         beforeSend:query.beforeSend,\r\n         cache: this.echa,//上传文件无需缓存\r\n         processData: this.echa,//用于对data参数进行序列化处理 这里必须false\r\n         contentType: this.echa?\"application/x-www-form-urlencoded\":false,\r\n         complete:query.complete,\r\n         dataFilter:query.dataFilter,\r\n         async:query.isasync,\r\n     })\r\n   }\r\n    return  query;\r\n}\r\n\r\nexport {echo};","import {echo} from \"./commons\";\r\nimport {act, imgADD, uploadConfig, uuid} from \"./static\";\r\n\r\nVue.component(\"login\",{\r\n    template:'#loginAndeRegister',\r\n    props:['loginOrRegist','codeurl']\r\n});\r\nVue.component('h2-title',{\r\n    props:['title'],\r\n    template:`  <fieldset class=\"layui-elem-field layui-field-title\" >\r\n            <legend v-text=\"title\"></legend>\r\n        </fieldset>`\r\n});\r\nVue.component('sku-table',{\r\n    props:['skuData','modelData','model'],\r\n    template:`<div>  <div class=\"layui-form-pane tag-form\">\r\n                                <div class=\"layui-form-item\">\r\n                                    <label class=\"layui-form-label\">选择模板</label>\r\n                                    <div class=\"layui-input-inline\">\r\n                                        <select class=\"template-select\"  lay-search>\r\n                                            <option v-for=\"(d,i) in modelData\" :value=\"i\" v-text=\"d.name\"  v-if=\"i==0\" selected></option>\r\n                                            <option  v-text=\"d.name\" :value=\"i\" v-else></option>\r\n                                        </select>\r\n                                    </div>\r\n                                      <div class=\"layui-inline\">\r\n                                      <button class=\"layui-btn layui-btn-normal add-template\" @click=\"addModel()\">添加</button>\r\n                                    <button class=\"layui-btn layui-btn-normal add-template\" @click=\"fullAll()\">批量填充数据</button>\r\n                                    </div>\r\n                                      <div class=\"layui-input-inline\"> <input  class=\"layui-input\" name=\"model\" :value=\"model.name\" placeholder=\"sku分类名\"></div>\r\n                                  \r\n                                </div>\r\n                                </div>\r\n                          \r\n                           \r\n                            \r\n <table class=\"layui-table layui-form sku-table\" lay-filter=\"sku-template-form\" > <tr v-for=\"(data,i) in skuData\">\r\n                                            <td class=\"sku-td\">\r\n                                            <input name=\"id\" :value=\"data.id\" hidden>\r\n                                                <div class=\"layui-form-item layui-inline\"><label class=\"layui-form-label\">型号</label><div class=\"layui-input-inline\"><input class=\"layui-input\" v-model=\"data.attr\" name=\"attr\" lay-verify=\"must\"  must=\"请填写型号名称\"></div></div>\r\n                                                <div class=\"layui-form-item layui-inline\"><label class=\"layui-form-label\">销售价</label><div class=\"layui-input-inline\"><input class=\"layui-input\" v-model=\"data.price\" name=\"price\" lay-verify=\"price\"></div></div>\r\n                                                <div class=\"layui-form-item layui-inline\"><label class=\"layui-form-label\">成本价</label><div class=\"layui-input-inline\"><input class=\"layui-input\" v-model=\"data.costPrice\" name=\"costPrice\" lay-verify=\"notmustprice\"></div></div>\r\n                                                <div class=\"layui-form-item layui-inline\"><label class=\"layui-form-label\">免税价</label><div class=\"layui-input-inline\"><input class=\"layui-input\" v-model=\"data.dutyFreePrice\" name=\"dutyFreePrice\" lay-verify=\"notmustprice\"></div></div>\r\n                                                <div class=\"layui-form-item layui-inline\"><label class=\"layui-form-label\">库存</label><div class=\"layui-input-inline\"><input class=\"layui-input\"  v-model=\"data.stock\" name=\"stock\" lay-verify=\"notmustint\"></div></div>\r\n                                                <div class=\"layui-form-item layui-inline\"><label class=\"layui-form-label\">ref编码</label><div class=\"layui-input-inline\"><input class=\"layui-input\"  v-model=\"data.ref\" name=\"ref\"></div></div>\r\n                                                <div class=\"layui-form-item layui-inline\"><label class=\"layui-form-label\">最少购买</label><div class=\"layui-input-inline\"><input class=\"layui-input\"  v-model=\"data.minPurchaseNum\" name=\"minPurchaseNum\"  lay-verify=\"int\"></div></div>\r\n                                                <div class=\"layui-form-item layui-inline\"><label class=\"layui-form-label\">限制条件</label><div class=\"layui-input-inline\" @click=\"limit($event)\"><input class=\"layui-input\" readonly name=\"limitTimelimitNum\"  v-model=\"data.limitTimelimitNum\"><input hidden   name=\"limitTime\"  v-model=\"data.limitTime\" ><input  name=\"limitNum\"  hidden v-model=\"data.limitNum\"></div></div>\r\n                                                <div class=\"layui-form-item layui-inline\"><label class=\"layui-form-label\">图片</label><div class=\"layui-inline\"><button class=\" layui-btn\" @click=\"addImg($event.target,i)\">上传图片</button><input name=\"sku-img\" v-model='data.img' hidden><input type=\"file\" accept=\"image/gif,image/jpeg,image/jpg,image/png\" class=\"sku-img\" @change=\"change($event.target,i,'skuImg')\" hidden><div class=\"backimg-c layui-inline\" style=\"width: 40px;height: 40px\" :style='\"background-image:url(\"+data.img+\")\"'>{{data.percent?data.percent:''}}</div></div></div>\r\n                                                <div class=\"layui-form-item layui-inline\"><label class=\"layui-form-label\">详情图</label><div class=\"layui-inline\"><button class=\" layui-btn\" @click=\"addImg($event.target,i)\">上传图片</button><input name=\"sku-detail-img\" v-model='data.detailImg' hidden><input type=\"file\" accept=\"image/gif,image/jpeg,image/jpg,image/png\" class=\"sku-img\" @change=\"change($event.target,i,'detailImg')\" hidden><div class=\"backimg-c layui-inline\" style=\"width: 40px;height: 40px\" :style='\"background-image:url(\"+data.detailImg+\")\"'>{{data.DetialPercent?data.DetialPercent:''}}</div></div></div>\r\n                                                <div class=\"layui-form-item layui-inline\"><label class=\"layui-form-label\">启用</label>\r\n                                                <div class=\"layui-input-inline\" v-if=\"data.status==1\">  <input type=\"checkbox\" name=\"status\" lay-skin=\"switch\" lay-text=\"启用|禁用\" checked value=\"1\"></div>\r\n                                                <div class=\"layui-input-inline\" v-else>  <input type=\"checkbox\" name=\"status\" lay-skin=\"switch\" lay-text=\"启用|禁用\" value=\"1\" ></div>\r\n                                                </div>\r\n                                                <div class=\"layui-form-item layui-inline\"><div class=\"layui-input-inline\"><button class=\"layui-btn layui-btn-danger \" @click=\"del(i)\"><i class=\"layui-icon\" >&#xe640;</i>  </button></div></div>\r\n                                            </td>\r\n                                        </tr>\r\n                                           <tr v-if=\"skuData.length>0\">\r\n                                            <td>\r\n                                                <button class=\"layui-btn layui-btn-normal\" @click=\"add()\">点击这里增加新的一行</button>\r\n                                            </td>\r\n                                        </tr>\r\n                                           <tr >\r\n                                            <td  v-if=\"skuData.length>0\">\r\n                                                <button class=\"layui-btn\" lay-submit lay-filter=\"sku-template-form-submit\" type=\"reset\" style=\"border: none\">提交保存</button>\r\n                                            </td>\r\n                                        </tr>\r\n                                        </table>\r\n                                        </div> \r\n`,\r\n    data:function () {\r\n        return{\r\n            uploadToken:''\r\n        }\r\n    }\r\n    ,\r\n    mounted(){\r\n    },\r\n    methods:{\r\n        change(elem,i,type){\r\n            if(this.skuData[i].subscription)\r\n                this.skuData[i].subscription.unsubscribe()\r\n            let  putExtra = {\r\n                fname: elem.files[0].name,\r\n                params: {},\r\n                // mimeType:['image/gif','image/jpeg','image/jpg','image/png'],\r\n            };\r\n            // let key;\r\n            // if(type=='skuImg') {\r\n            //    key= `${this.skuData[i].ref}_img`\r\n            // }else {\r\n            //     key= `${this.skuData[i].ref}_detail_img`\r\n            // }\r\n            let key=uuid();\r\n            let _this=this\r\n            let observer = {\r\n                next(res){\r\n                    if(type=='skuImg') {\r\n\r\n                    _this.skuData[i].percent=Math.round(res.total.percent)\r\n                    }else {\r\n                        _this.skuData[i].DetialPercent=Math.round(res.total.percent)\r\n                    }\r\n                },\r\n                error(err){\r\n                    $.tips(\"上传过程出现错误，稍后再试\",4)\r\n                    if(type=='skuImg') {\r\n                        _this.skuData[i].percent=0\r\n                    }else {\r\n                        _this.skuData[i].DetialPercent=0\r\n                    }\r\n                },\r\n                complete(res){\r\n                    if(type=='skuImg') {\r\n                        _this.skuData[i].percent=0\r\n                    }else {\r\n                        _this.skuData[i].DetialPercent=0\r\n                    }\r\n                    _this.skuData[i].uploading=false\r\n                    if(type=='skuImg'){\r\n                        _this.skuData[i].img=`${imgADD.add}${key}`\r\n                        $(elem).next().css(\"background-image\",`url('${ _this.skuData[i].img}')`)\r\n                    }else {\r\n                        _this.skuData[i].detailImg=`${imgADD.add}${key}${imgADD.productImg}`\r\n                        $(elem).next().css(\"background-image\",`url('${ _this.skuData[i].detailImg}')`)\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            let observable = qiniu.upload(elem.files[0], key, this.uploadToken, putExtra, uploadConfig)\r\n            this.skuData[i].subscription = observable.subscribe(observer)\r\n            this.skuData[i].uploading=true\r\n            if(type=='skuImg') {\r\n                this.skuData[i].img = 'true'\r\n            }else {\r\n                this.skuData[i].detailImg = 'true'\r\n            }\r\n\r\n        },\r\n        addImg(elem,index){\r\n            // let refIsTrue=false\r\n            // if(this.skuData[index].ref){\r\n            //     echo().data({\r\n            //         act:act.reBcProduct_validateSkuRef,\r\n            //         ref:this.skuData[index].ref,\r\n            //         id:this.skuData[index].id||0\r\n            //     }).succ(d=>{\r\n            //         if(d) {\r\n            //             refIsTrue = true\r\n            //         }else {\r\n            //             refIsTrue=false\r\n            //             $.tips(`REF${this.skuData[index].ref}已经存在`, 4)\r\n            //         }\r\n            //     }).async()\r\n            // }else {\r\n            //     $.tips('请先输入REF编号', 4)\r\n            // }\r\n            // if(!refIsTrue){\r\n            //     return false\r\n            // }\r\n            if (!this.uploadToken) {\r\n              echo().data({act: act.upload_upload}).succ(d => {\r\n                    if (d) {\r\n                        this.uploadToken = d.uploadToken;\r\n                    } else {\r\n                        $.tips('上传接口打开失败，请稍后再试', 4)\r\n                    }\r\n                }).err(() => {\r\n                  $.tips('上传接口打开失败，请稍后再试', 4)\r\n                }).async()\r\n\r\n            }\r\n            return $(elem).next().next().click();\r\n        },\r\n        addModel:function () {\r\n            let v = $('.cloned .template-select').val()\r\n            this.model.name=this.modelData[v].name\r\n            for(let i in this.modelData[v].list){\r\n                this.add(this.modelData[v].list[i].name)\r\n            }\r\n},\r\n        add:function (model) {\r\n            this.skuData.push({\r\n                attr:model,\r\n                status:1,\r\n                img:'',\r\n            })\r\n        },\r\n        del:function (i) {\r\n            let skuData= this.skuData;\r\n            layer.confirm('删除后，数据不会保留！', {icon: 3, title:'提示'}, function(index){\r\n             if(skuData[i].id){\r\n                 echo().data({\r\n                     act:act.reBcProductSku_updateStatus,\r\n                     id:skuData[i].id,\r\n                     status:2\r\n                 }).succ(d=>{\r\n                     if(d){\r\n                         skuData.splice(i,1)\r\n                         layer.close(index)\r\n                     }\r\n                 }).loading('删除中').post()\r\n             }else {\r\n                 skuData.splice(i,1)\r\n                 layer.close(index)\r\n             }\r\n            });\r\n        },\r\n       limit:function (elem) {\r\n           limitOpen(elem,this.skuData)\r\n       },\r\n        fullAll:function () {\r\n            let temp = $(\".fullAll\").clone().children(\".layui-form\").addClass(\"cloned\").end().html();\r\n            let data = this.skuData;\r\n            let _this= this\r\n            layer.open({\r\n                title:\"批量填充数据\",\r\n                content:temp,\r\n                yes:function (index,l) {\r\n                    let $parent = $(l.selector);\r\n                    let price= $parent.find(\"input[name=price]\").val(),\r\n                      costPrice = $parent.find(\"input[name=costPrice]\").val(),\r\n                      dutyFreePrice = $parent.find(\"input[name=dutyFreePrice]\").val(),\r\n                      stock = $parent.find(\"input[name=stock]\").val(),\r\n                      minPurchaseNum = $parent.find(\"input[name=minPurchaseNum]\").val(),\r\n                      limitTimelimitNum = $parent.find(\"input[name=limitTimelimitNum]\").val(),\r\n                      limitTime = $parent.find(\"input[name=limitTime]\").val(),\r\n                      limitNum = $parent.find(\"input[name=limitNum]\").val();\r\n                    for(let i in data){\r\n                        data[i].price=price||data[i].price;\r\n                        data[i].costPrice=costPrice||data[i].costPrice;\r\n                        data[i].dutyFreePrice=dutyFreePrice||data[i].dutyFreePrice;\r\n                        data[i].stock=stock||data[i].stock;\r\n                        data[i].limitTimelimitNum=limitTimelimitNum||data[i].limitTimelimitNum;\r\n                        data[i].minPurchaseNum=minPurchaseNum||data[i].minPurchaseNum;\r\n                        data[i].limitTime=limitTime||data[i].limitTime;\r\n                        data[i].limitNum=limitNum||data[i].limitNum;\r\n                    }\r\n                    layer.close(index)\r\n                }\r\n            });\r\n        }\r\n    },\r\n    updated:function () {\r\n        form.render(null,\"sku-template-form\");\r\n    }\r\n});\r\nfunction limitOpen(elem,data) {\r\n    layer.open({\r\n        type:1,\r\n        title:'限购条件',\r\n        content:'',\r\n        btn: ['每周', '每月', '每季','每年'],\r\n        btn4:function (index,layero) {\r\n            limitNum({\r\n                elem:elem.target||elem,\r\n                title:this.btn[3],\r\n                limit1:4,\r\n                data:data\r\n            })\r\n            layer.close(index)\r\n        },\r\n        btn3:function (index,layero) {\r\n            limitNum({\r\n                elem:elem.target||elem,\r\n                title:this.btn[2],\r\n                limit1:3,\r\n                data:data\r\n            })\r\n            layer.close(index)\r\n        },\r\n        btn2:function (index,layero) {\r\n            limitNum({\r\n                elem:elem.target||elem,\r\n                title:this.btn[1],\r\n                limit1:2,\r\n                data:data\r\n            })\r\n            layer.close(index)\r\n        },\r\n        yes:function (index,layero) {\r\n            limitNum({\r\n                elem:elem.target||elem,\r\n                title:this.btn[0],\r\n                limit1:1,\r\n                data:data\r\n            })\r\n            layer.close(index)\r\n        },\r\n\r\n\r\n    })\r\n}\r\nfunction limitNum(d) {\r\n    layer.prompt({\r\n        title: '请输入值',\r\n    },function(value, index, elem){\r\n\r\n        $(d.elem).val(`${d.title}限购${value}件`).next().val(d.limit1).next().val(value);\r\n        d.elem.dispatchEvent(new Event('input'))\r\n        $(d.elem).next()[0].dispatchEvent(new Event('input'))\r\n        $(d.elem).next().next()[0].dispatchEvent(new Event('input'))\r\n\r\n        layer.close(index)\r\n    });\r\n}\r\nlet layer,form ;\r\n$(function () {\r\n    var counter = 0;\r\n    if (window.history && window.history.pushState) {\r\n        $(window).on('popstate', function () {\r\n            window.history.pushState('forward', null, '#');\r\n            window.history.forward(1);\r\n            $.tips('本系统不可回退，如需退出关闭页面即可',3)\r\n        });\r\n    }\r\n\r\n    window.history.pushState('forward', null, '#'); //在IE中必须得有这两行\r\n    window.history.forward(1);\r\n\r\n    layui.use(['layer', 'form'], function () {\r\n        layer = layui.layer;\r\n        form = layui.form;\r\n        form.on('checkbox(at-least-one)', function (data) {\r\n            let checkedlen = $(data.elem).parents(\".at-least-one\").find(\".layui-form-checked\").length;\r\n            if (checkedlen < 1) {\r\n                $(data.othis).click();\r\n                layer.msg('至少选择一个', {icon: 6});\r\n                return\r\n            }\r\n        })\r\n        form.verify({\r\n            telephone: (value, elem) => {\r\n                if ($.stringIsBlank(value)) {\r\n                    return $(elem).attr('info');\r\n                }\r\n\r\n            },\r\n            code: (value, elem) => {\r\n                if ($.stringIsBlank(value)) {\r\n                    return $(elem).attr('info');\r\n                }\r\n\r\n            },\r\n            must: (value, elem) => {\r\n                if ($.stringIsBlank(value)) {\r\n                    return $(elem).attr('must');\r\n                }\r\n            },\r\n            price: (value, elem) => {\r\n                let r = /^[0-9]+\\.?[0-9]?$/;\r\n                if (!r.test(value)) {\r\n                    return \"价格不合法\"\r\n                }\r\n            },\r\n                notmustprice: (value, elem) => {\r\n                    if (!$.stringIsBlank(value)) {\r\n                        let r = /^[0-9]+\\.?[0-9]*$/;\r\n                        if (!r.test(value)) {\r\n                            return \"价格不合法\"\r\n                        }\r\n                    }\r\n                }\r\n            ,\r\n            int: (value, elem) => {\r\n                let r = /^[0-9]+$/;\r\n                if (!r.test(value)) {\r\n                    return \"必须是非负整数\"\r\n                }\r\n            },\r\n            notmustint:\r\n                (value, elem) => {\r\n                    if (!$.stringIsBlank(value)) {\r\n                        let r = /^[0-9]+$/;\r\n                        if (!r.test(value)) {\r\n                            return \"必须是非负整数\"\r\n                        }\r\n                    }\r\n                },\r\n            greaterthan0: (value, elem) => {\r\n                if (Number(value) <= 0) {\r\n                    return \"必须大于0\"\r\n                }\r\n            },\r\n            selectthan0: (value, elem) => {\r\n                if (Number(value) <= 0) {\r\n                    return `必须选择${$(elem).attr('info')}`\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    let $body = $(\"body\");\r\n    $body.on(\"click\", \".cloned .limit\", function () {\r\n        limitOpen(this)\r\n    })\r\n\r\n})\r\n"],"sourceRoot":""}